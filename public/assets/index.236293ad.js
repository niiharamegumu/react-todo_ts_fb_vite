import{i as B,B as D,g as j,r as i,j as e,a as O,u as m,F as p,b as l,S as k,H as T,c as y,d as v,I as b,e as w,s as N,f as z,E as q,h as S,k as H,l as f,A as W,C as I,p as M,T as K,m as _,L as U,n as A,o as V,D as G,q as J,t as X,R as $,v as x,w as Q,x as Y,y as Z,z as ee,G as te}from"./vendor.a8236e06.js";const se=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};se();const ne={apiKey:"AIzaSyCffpMrbr9UK-ktyVXqJpVSAn0_nbvnWs0",authDomain:"react-todo-ts-e55e1.firebaseapp.com",projectId:"react-todo-ts-e55e1",storageBucket:"react-todo-ts-e55e1.appspot.com",messagingSenderId:"361811872795",appId:"1:361811872795:web:5079a7bed885dd29c73cbe"};B(ne);const h=D(),g=j(),E=i.exports.memo(a=>{const{disabled:t,onClick:n,children:o}=a;return e(O,{disabled:t,type:"submit",colorScheme:"teal",onClick:n,children:o})}),ae=i.exports.memo(a=>{const[t,n]=i.exports.useState(!0),[o,s]=i.exports.useState(""),[r,c]=i.exports.useState(""),d=m();return e(p,{w:"100vw",h:"100vh",justify:"center",align:"center",children:l(k,{backgroundColor:"white",p:{base:"30px 20px",sm:"20px 30px"},borderRadius:20,w:{base:"90%",sm:"sm"},spacing:6,children:[e(T,{fontSize:"2xl",textAlign:"center",children:t?"Login":"Register"}),l(y,{isRequired:!0,children:[e(v,{htmlFor:"email",children:"Email"}),e(b,{id:"email",type:"email",value:o,onChange:u=>s(u.target.value)}),e(w,{children:"We'll never share your email."})]}),l(y,{isRequired:!0,children:[e(v,{htmlFor:"password",children:"password"}),e(b,{id:"password",type:"password",value:r,onChange:u=>c(u.target.value)}),e(w,{children:"We'll never share your password."})]}),e(E,{disabled:!o||!r,onClick:t?()=>{const u=N(g,o,r).then(()=>{d("/tasks")}).catch(F=>{alert(F.message)});return()=>u}:()=>{z(g,o,r).then(()=>{d("/tasks")}).catch(u=>{alert(u.message)})},children:t?"Login":"Register"})]})})}),oe=()=>e("div",{children:e("p",{children:"Page Not Found. 404 Page."})}),re=()=>({addTask:i.exports.useCallback(t=>{const{title:n}=t;q(S(h,"tasks"),{title:n})},[])}),ie=()=>{const[a,t]=i.exports.useState([{id:"",title:""}]);return{getTasks:i.exports.useCallback(()=>{const o=H(S(h,"tasks"),s=>{const r=s.docs.map(c=>({id:c.id,title:String(c.data().title)}));t(r)});return()=>o()},[]),tasks:a}},L=i.exports.memo(a=>{const{input:t,placeholder:n,onChange:o}=a;return e(b,{w:["100%","100%","50%"],value:t,placeholder:n,p:"1em",variant:"flushed",onChange:o,size:"md"})}),ce=i.exports.memo(a=>{const{placeholder:t,input:n,onChange:o,onClick:s}=a;return l(p,{gap:2,justify:"center",children:[e(L,{placeholder:t,input:n,onChange:o}),e(f,{"aria-label":"Search database",icon:e(W,{}),variant:"unstyled",isDisabled:!n,onClick:s})]})}),le=()=>({editTask:i.exports.useCallback(t=>{const{id:n,title:o}=t,s={title:o},r=I(h,"tasks",n);M(r,s)},[])}),de=()=>({deleteTask:i.exports.useCallback(t=>{const{id:n}=t,o=I(h,"tasks",n);K(o)},[])});const ue=a=>{const t={target:"_blank",className:(o,s)=>`text-to-${s}`},{children:n}=a;return e(_,{children:e(U,{options:t,children:n})})},pe=a=>{const{id:t,title:n}=a,[o,s]=i.exports.useState(n),{editTask:r}=le(),{deleteTask:c}=de();return e(A,{children:l(p,{align:"center",justify:"center",gap:{base:2,sm:10},flexDirection:{base:"column",sm:"row"},children:[e(A,{textAlign:"center",w:{base:"100%",sm:"40%"},p:8,borderRadius:50,backgroundColor:"white",wordBreak:"break-all",children:e(ue,{children:n})}),l(p,{align:"center",children:[e(L,{placeholder:"Edit Tasks ...",input:o,onChange:C=>s(C.target.value)}),e(f,{variant:"unstyled",colorScheme:"teal","aria-label":"Edit Task",icon:e(V,{}),onClick:()=>{r({id:t,title:o})}}),e(f,{variant:"unstyled",colorScheme:"teal","aria-label":"delete Task",icon:e(G,{}),onClick:()=>{c({id:t})}})]})]})})},he=i.exports.memo(()=>{const{getTasks:a,tasks:t}=ie(),{addTask:n}=re(),[o,s]=i.exports.useState("");i.exports.useEffect(()=>{a()},[]);const r=d=>s(d.target.value),c=i.exports.useCallback(()=>{n({title:o}),s("")},[o]);return l(k,{p:30,textAlign:"center",spacing:10,children:[e(ce,{placeholder:"New Tasks ...",input:o,onChange:r,onClick:c}),e(k,{spacing:{base:10,sm:4},children:t.map(d=>e(pe,{id:d.id,title:d.title},d.id))})]})}),ge=i.exports.memo(()=>{const a=m(),t=i.exports.useCallback(()=>{J(g).then(()=>{a("/")}).catch(n=>{alert(n.message)})},[a]);return l(p,{justify:"space-between",align:"center",p:"1em 2em",children:[e(T,{fontSize:{base:"6vw",sm:"3xl"},children:"TODO"}),e(E,{disabled:!1,onClick:t,children:"LogOut"})]})}),me=a=>{const{children:t}=a;return l(X,{children:[e(ge,{}),t]})},ke=()=>{const a=m();return i.exports.useEffect(()=>{const t=g.onAuthStateChanged(n=>{n&&a("/tasks"),!n&&a("/")});return()=>t()},[a]),l($,{children:[e(x,{path:"/",element:e(ae,{})}),e(x,{path:"/tasks",element:e(me,{children:e(he,{})})}),e(x,{path:"*",element:e(oe,{})})]})},be=Q({styles:{global:{body:{backgroundColor:"teal.50",color:"teal.800"}}},components:{Button:{baseStyle:{_focus:{boxShadow:"unset"}}}}}),fe=()=>e(Y,{theme:be,children:e(Z,{children:e(ke,{})})});ee.render(e(te.StrictMode,{children:e(fe,{})}),document.getElementById("root"));

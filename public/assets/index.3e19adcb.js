import{i as F,B,g as D,r as c,j as e,a as j,u as m,F as p,b as l,S as k,H as T,c as y,d as v,I as b,e as w,s as O,f as z,E as N,h as S,k as q,l as f,A as H,C as I,p as W,T as M,m as K,n as U,o as V,D as _,q as G,t as J,R as X,v as x,w as Q,x as Y,y as Z,z as $,G as ee}from"./vendor.d0869035.js";const te=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};te();const se={apiKey:"AIzaSyCffpMrbr9UK-ktyVXqJpVSAn0_nbvnWs0",authDomain:"react-todo-ts-e55e1.firebaseapp.com",projectId:"react-todo-ts-e55e1",storageBucket:"react-todo-ts-e55e1.appspot.com",messagingSenderId:"361811872795",appId:"1:361811872795:web:5079a7bed885dd29c73cbe"};F(se);const h=B(),g=D(),A=c.exports.memo(o=>{const{disabled:t,onClick:n,children:a}=o;return e(j,{disabled:t,type:"submit",colorScheme:"teal",onClick:n,children:a})}),ne=c.exports.memo(o=>{const[t,n]=c.exports.useState(!0),[a,s]=c.exports.useState(""),[r,i]=c.exports.useState(""),d=m();return e(p,{w:"100vw",h:"100vh",justify:"center",align:"center",children:l(k,{backgroundColor:"white",p:{base:"30px 20px",sm:"20px 30px"},borderRadius:20,w:{base:"90%",sm:"sm"},spacing:6,children:[e(T,{fontSize:"2xl",textAlign:"center",children:t?"Login":"Register"}),l(y,{isRequired:!0,children:[e(v,{htmlFor:"email",children:"Email"}),e(b,{id:"email",type:"email",value:a,onChange:u=>s(u.target.value)}),e(w,{children:"We'll never share your email."})]}),l(y,{isRequired:!0,children:[e(v,{htmlFor:"password",children:"password"}),e(b,{id:"password",type:"password",value:r,onChange:u=>i(u.target.value)}),e(w,{children:"We'll never share your password."})]}),e(A,{disabled:!a||!r,onClick:t?()=>{const u=O(g,a,r).then(()=>{d("/tasks")}).catch(P=>{alert(P.message)});return()=>u}:()=>{z(g,a,r).then(()=>{d("/tasks")}).catch(u=>{alert(u.message)})},children:t?"Login":"Register"})]})})}),ae=()=>e("div",{children:e("p",{children:"Page Not Found. 404 Page."})}),oe=()=>({addTask:c.exports.useCallback(t=>{const{title:n}=t;N(S(h,"tasks"),{title:n})},[])}),re=()=>{const[o,t]=c.exports.useState([{id:"",title:""}]);return{getTasks:c.exports.useCallback(()=>{const a=q(S(h,"tasks"),s=>{const r=s.docs.map(i=>({id:i.id,title:String(i.data().title)}));t(r)});return()=>a()},[]),tasks:o}},E=c.exports.memo(o=>{const{input:t,placeholder:n,onChange:a}=o;return e(b,{w:["100%","100%","50%"],value:t,placeholder:n,p:"1em",variant:"flushed",onChange:a,size:"md"})}),ce=c.exports.memo(o=>{const{placeholder:t,input:n,onChange:a,onClick:s}=o;return l(p,{gap:2,justify:"center",children:[e(E,{placeholder:t,input:n,onChange:a}),e(f,{"aria-label":"Search database",icon:e(H,{}),variant:"unstyled",isDisabled:!n,onClick:s})]})}),ie=()=>({editTask:c.exports.useCallback(t=>{const{id:n,title:a}=t,s={title:a},r=I(h,"tasks",n);W(r,s)},[])}),le=()=>({deleteTask:c.exports.useCallback(t=>{const{id:n}=t,a=I(h,"tasks",n);M(a)},[])}),de=o=>{const{id:t,title:n}=o,[a,s]=c.exports.useState(n),{editTask:r}=ie(),{deleteTask:i}=le();return e(K,{children:l(p,{align:"center",justify:"center",gap:{base:2,sm:10},flexDirection:{base:"column",sm:"row"},children:[e(U,{textAlign:"center",w:{base:"100%",sm:"40%"},p:2,borderRadius:50,backgroundColor:"white",children:n}),l(p,{align:"center",children:[e(E,{placeholder:"Edit Tasks ...",input:a,onChange:C=>s(C.target.value)}),e(f,{variant:"unstyled",colorScheme:"teal","aria-label":"Edit Task",icon:e(V,{}),onClick:()=>{r({id:t,title:a})}}),e(f,{variant:"unstyled",colorScheme:"teal","aria-label":"delete Task",icon:e(_,{}),onClick:()=>{i({id:t})}})]})]})})},ue=c.exports.memo(()=>{const{getTasks:o,tasks:t}=re(),{addTask:n}=oe(),[a,s]=c.exports.useState("");c.exports.useEffect(()=>{o()},[]);const r=d=>s(d.target.value),i=c.exports.useCallback(()=>{n({title:a}),s("")},[a]);return l(k,{p:30,textAlign:"center",spacing:10,children:[e(ce,{placeholder:"New Tasks ...",input:a,onChange:r,onClick:i}),e(k,{spacing:{base:10,sm:4},children:t.map(d=>e(de,{id:d.id,title:d.title},d.id))})]})}),pe=c.exports.memo(()=>{const o=m(),t=c.exports.useCallback(()=>{G(g).then(()=>{o("/")}).catch(n=>{alert(n.message)})},[o]);return l(p,{justify:"space-between",align:"center",p:"1em 2em",children:[e(T,{fontSize:{base:"6vw",sm:"3xl"},children:"TODO"}),e(A,{disabled:!1,onClick:t,children:"LogOut"})]})}),he=o=>{const{children:t}=o;return l(J,{children:[e(pe,{}),t]})},ge=()=>{const o=m();return c.exports.useEffect(()=>{const t=g.onAuthStateChanged(n=>{n&&o("/tasks"),!n&&o("/")});return()=>t()},[o]),l(X,{children:[e(x,{path:"/",element:e(ne,{})}),e(x,{path:"/tasks",element:e(he,{children:e(ue,{})})}),e(x,{path:"*",element:e(ae,{})})]})},me=Q({styles:{global:{body:{backgroundColor:"teal.50",color:"teal.800"}}},components:{Button:{baseStyle:{_focus:{boxShadow:"unset"}}}}}),ke=()=>e(Y,{theme:me,children:e(Z,{children:e(ge,{})})});$.render(e(ee.StrictMode,{children:e(ke,{})}),document.getElementById("root"));

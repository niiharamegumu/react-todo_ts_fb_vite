import{i as B,B as j,g as D,r as c,j as e,a as O,u as m,F as p,b as l,S as k,H as x,c as y,d as v,I as f,e as w,T as S,s as N,f as z,E as q,h as A,k as H,l as C,A as W,C as I,p as M,m as K,n as U,o as V,D as _,q as G,t as J,R as X,v as T,w as Q,x as Y,y as Z,z as $,G as ee}from"./vendor.2afed8e8.js";const te=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};te();const se={apiKey:"AIzaSyCffpMrbr9UK-ktyVXqJpVSAn0_nbvnWs0",authDomain:"react-todo-ts-e55e1.firebaseapp.com",projectId:"react-todo-ts-e55e1",storageBucket:"react-todo-ts-e55e1.appspot.com",messagingSenderId:"361811872795",appId:"1:361811872795:web:5079a7bed885dd29c73cbe"};B(se);const h=j(),g=D(),E=c.exports.memo(o=>{const{disabled:t,onClick:n,children:a}=o;return e(O,{disabled:t,type:"submit",colorScheme:"teal",onClick:n,children:a})}),ne=c.exports.memo(o=>{const[t,n]=c.exports.useState(!0),[a,s]=c.exports.useState(""),[r,i]=c.exports.useState(""),d=m();return e(p,{w:"100vw",h:"100vh",justify:"center",align:"center",children:l(k,{backgroundColor:"white",p:"2em 3em",borderRadius:20,w:"sm",spacing:6,children:[e(x,{fontSize:"2xl",textAlign:"center",children:t?"Login":"Register"}),l(y,{isRequired:!0,children:[e(v,{htmlFor:"email",children:"Email"}),e(f,{id:"email",type:"email",value:a,onChange:u=>s(u.target.value)}),e(w,{children:"We'll never share your email."})]}),l(y,{isRequired:!0,children:[e(v,{htmlFor:"password",children:"password"}),e(f,{id:"password",type:"password",value:r,onChange:u=>i(u.target.value)}),e(w,{children:"We'll never share your password."})]}),e(E,{disabled:!a||!r,onClick:t?()=>{const u=N(g,a,r).then(()=>{d("/tasks")}).catch(F=>{alert(F.message)});return()=>u}:()=>{z(g,a,r).then(()=>{d("/tasks")}).catch(u=>{alert(u.message)})},children:t?"Login":"Register"}),e(S,{as:"span",cursor:"pointer",textAlign:"center",onClick:()=>n(!t),children:t?"Create New Account ?":"Login ?"})]})})}),ae=()=>e("div",{children:e("p",{children:"Page Not Found. 404 Page."})}),oe=()=>({addTask:c.exports.useCallback(t=>{const{title:n}=t;q(A(h,"tasks"),{title:n})},[])}),re=()=>{const[o,t]=c.exports.useState([{id:"",title:""}]);return{getTasks:c.exports.useCallback(()=>{const a=H(A(h,"tasks"),s=>{const r=s.docs.map(i=>({id:i.id,title:String(i.data().title)}));t(r)});return()=>a()},[]),tasks:o}},L=c.exports.memo(o=>{const{input:t,placeholder:n,onChange:a}=o;return e(f,{w:["100%","100%","50%"],value:t,placeholder:n,p:"1em",variant:"flushed",onChange:a,size:"md"})}),ce=c.exports.memo(o=>{const{placeholder:t,input:n,onChange:a,onClick:s}=o;return l(p,{gap:2,justify:"center",children:[e(L,{placeholder:t,input:n,onChange:a}),e(C,{"aria-label":"Search database",icon:e(W,{}),variant:"unstyled",isDisabled:!n,onClick:s})]})}),ie=()=>({editTask:c.exports.useCallback(t=>{const{id:n,title:a}=t,s={title:a},r=I(h,"tasks",n);M(r,s)},[])}),le=()=>({deleteTask:c.exports.useCallback(t=>{const{id:n}=t,a=I(h,"tasks",n);K(a)},[])}),de=o=>{const{id:t,title:n}=o,[a,s]=c.exports.useState(n),{editTask:r}=ie(),{deleteTask:i}=le();return e(U,{children:l(p,{align:"center",justify:"center",gap:10,children:[e(S,{textAlign:"left",w:"30%",children:n}),l(p,{align:"center",children:[e(L,{placeholder:"Edit Tasks ...",input:a,onChange:b=>s(b.target.value)}),e(C,{variant:"unstyled",colorScheme:"teal","aria-label":"Edit Task",icon:e(V,{}),onClick:()=>{r({id:t,title:a})}}),e(C,{variant:"unstyled",colorScheme:"teal","aria-label":"delete Task",icon:e(_,{}),onClick:()=>{i({id:t})}})]})]})})},ue=c.exports.memo(()=>{const{getTasks:o,tasks:t}=re(),{addTask:n}=oe(),[a,s]=c.exports.useState("");c.exports.useEffect(()=>{o()},[]);const r=d=>s(d.target.value),i=c.exports.useCallback(()=>{n({title:a}),s("")},[a]);return l(k,{p:30,textAlign:"center",spacing:10,children:[e(ce,{placeholder:"New Tasks ...",input:a,onChange:r,onClick:i}),e(k,{spacing:4,children:t.map(d=>e(de,{id:d.id,title:d.title},d.id))})]})}),pe=c.exports.memo(()=>{const o=m(),t=c.exports.useCallback(()=>{G(g).then(()=>{o("/")}).catch(n=>{alert(n.message)})},[o]);return l(p,{justify:"space-between",align:"center",p:"1em 2em",children:[e(x,{fontSize:"3xl",children:"TODO App."}),e(E,{disabled:!1,onClick:t,children:"LogOut"})]})}),he=o=>{const{children:t}=o;return l(J,{children:[e(pe,{}),t]})},ge=()=>{const o=m();return c.exports.useEffect(()=>{const t=g.onAuthStateChanged(n=>{n&&o("/tasks"),!n&&o("/")});return()=>t()},[o]),l(X,{children:[e(T,{path:"/",element:e(ne,{})}),e(T,{path:"/tasks",element:e(he,{children:e(ue,{})})}),e(T,{path:"*",element:e(ae,{})})]})},me=Q({styles:{global:{body:{backgroundColor:"teal.50",color:"teal.800"}}},components:{Button:{baseStyle:{_focus:{boxShadow:"unset"}}}}}),ke=()=>e(Y,{theme:me,children:e(Z,{children:e(ge,{})})});$.render(e(ee.StrictMode,{children:e(ke,{})}),document.getElementById("root"));
